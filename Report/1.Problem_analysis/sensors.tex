\section{Application of Sensors and Actuators}\label{sec:actuator_sensor} \todo{Vielleicht vi skulle skrive til sidst, hvilket hardware der er tilgængeligt fra Kaggle, så vi kan afgrænse os fra det der ikke er tilgængeligt, hvormindre vi stadig vil bruge noget hardware der ikke er tilgængeligt. Jeg tænker bare, at det kunne være godt med en afgræsning til sidst.}
%In this section, we briefly describe the sensors and actuators available in the Kaggle competition for measuring indoor positions. Furthermore, we present the advantages and disadvantages of using these sensors and actuator.

In this section, we briefly describe the commonly used sensors and actuators that can be used in indoor positioning systems, along with examples of systems making use of them, their advantages and disadvantages. 

A wide range of technologies is available for \gls{ips}, that either takes use of the sensors in the mobile device or external devices. The phone itself provides three useful sensors: a gyroscope, an accelerometer, a magnetometer and a camera.

%\subsection{Sensors and Actuators Overview}
%subsection{External Devices}



%When using WiFi signals, the users position is calculated based on the strength of the Wi-Fi signals.

%Also, one of the most widely used technologies is \gls{ble} beacons. They, like Wi-Fi routers, send a signal in a radius of 10-30 meters, and then use the Bluetooth signals to position the user.

%A third alternative is using \gls{uwb} transceiver which transmits signals from antennas.

\subsection{Wi-Fi} \label{sec:WiFi}
Using Wi-Fi routers to measure distance, one can use different techniques, such as Time of Arrival (TOA), \gls{tdoa} or \gls{rss}. One popular technique is using \gls{rssi}. An \gls{rssi} is an integer in the range 0-255 that indicates the strength of a signal in dBm (decibel-milliwatt).\cite{RSSIWiFiDistance, RSSIMeasurement}
\gls{rssi} from Wi-Fi routers enable computing the position of a receiver device using triangulation or trilateration, as long as at least three WiFi routers are within range, as mentioned in \textbf{\autoref{sec:triangulation}} and \textbf{\autoref{sec:trilateration}}.
Also, \gls{rssi} from Wi-Fi beacons can be used in fingerprinting, a unique identification of a location, as described in \textbf{\autoref{sec:scene_analysis}}\cite{HabilitationThesis}.

One of the advantages of using Wi-Fi is that Wi-Fi is already integrated in many buildings, so it will be easy to adopt to this solution.
A disadvantage of Wi-Fi routers is that they lack in precision and function ideally when there is no obstruction to its signal, for instance, walls, furniture, or people. Even when there is no obstruction, it will still only have an accuracy of 10-20 meter.\cite{oriient}

Using Wi-Fi for indoor positioning is not as commonly used as Bluetooth due to its low accuracy. However, Skyhook have implemented a Wi-Fi based solution for use in urban areas, where accuracy is not as important in indoors. The solution is mainly based on fingerprinting, and reaches an accuracy of 10-20 meters outdoors. However, in indoor environments, the system has an accuracy of 30-70 meters. Another solution is provided by Ekahau that is based on a combination of fingerprinting and track history. Their solution reaches an accuracy of around 7 meters in indoor environments.\cite{HabilitationThesis}

\subsection{Bluetooth Beacons}
In order to determine the location of a device using Bluetooth beacons, the same approach is used as described in \textbf{\autoref{sec:WiFi}}, with use of Bluetooth signals instead. The Bluetooth signals are transmitted through beacons, that use triangulation or trilateration to position a user, as mentioned in \textbf{\autoref{sec:triangulation}} and \textbf{\autoref{sec:trilateration}}.

%https://www.oriient.me/comparing-indoor-positioning-technologies-which-one-is-right-for-you/ 

An advantage of using beacons is that the beacon technology works on both iOS and Android devices.
Bluetooth beacons can measure a distance with a precision within 3 meters at best.\cite{BluetoothBeacons} Also, the measurement values used in \gls{rssi} deviate, and therefore, a fitting technique must be used in order to improve precision\cite{RSSIWiFiDistance}.

Bluetooth beacons is commonly used in localization systems. For example, Bargh and de Grote implemented a fingerprint-based localization system, using the response rate of Bluetooth requests.\cite{HabilitationThesis} Also, the company ZONITH, which is a software company designed to protect personnel and security staff in workplaces\cite{zonith}, implemented an indoor localization system using Bluetooth beacons placed in rooms and Bluetooth in phones. The Bluetooth beacons in rooms are used to locate which room the phones are in.\cite{HabilitationThesis}
Nearmotion is also a company that specializes in indoor navigation and has recently developed an \gls{ar} technology that can navigate people in indoor environments. However, their main technology for navigation is the usage of Bluetooth beacons.\cite{nearmotion}

\subsection{Infrared}
Infrared can be used in various ways. One of the ways is by infrared beacons, which are used much like Wi-Fi routers and Bluetooth beacons. That is, the approach with infrared beacons is based on placing infrared beacons at fixed known locations and using the \gls{aoa} to triangulate the position of a device, as described in \textbf{\autoref{sec:triangulation}}.\cite{HabilitationThesis}

Another approach is by imaging of natural infrared radiation. Thermal infrared radiation can be used to determine the temperature of objects, and can be used to locate an object by placing sensors in the corners of the space to monitor and measuring the angle relative to the radiation source using triangulation.
The advantage of this approach is that it can reach an accuracy of 20-30 centimeters at a 10 meters range.
The disadvantage of this approach is that the measurement if affected by radiation from the sun.\cite{HabilitationThesis}

A last approach is by imaging of artificial infrared light. This approach is for example used in Microsoft Kinect, where infrared structured light is continuously projected to capture a 3D scene with an infrared camera. A 3D structure can be captured by a distortion of IR light dots.
The advantage of this approach is that it has been reported to have an accuracy of one centimeter, but only at a range of up to 3.5 meters.\cite{HabilitationThesis}

The disadvantage of this approach using infrared is that infrared signals are unable to penetrate obstacles and usually have a range of around two meters\cite{HabilitationThesis}.

One widely known infrared positioning system is the Active badge System, which is based on infrared beacons. The purpose of the system is to locate the room people are in. The people must wear a badge that emits infrared pulses along an ID, which are then picked up by infrared receivers deployed at a fixed location.

\subsection{UWB}
\gls{uwb} works by transmitting signals using an antenna, much like Bluetooth beacons and Wi-Fi routers. Therefore, like Bluetooth beacons and Wi-Fi routers, the location of a device can be computed making use of triangulation or trilateration, mentioned in \textbf{\autoref{sec:triangulation}} and \textbf{\autoref{sec:trilateration}}. Furthermore, systems making use of \gls{uwb} benefits from the high accuracy that is achievable, since it is possible to achieve an accuracy of around 30 centimeters. A disadvantage of \gls{uwb} is that they are susceptible to interference.\cite{oriient} Another disadvantage is that additional hardware is required to be installed on the device to be positioned in order to receive the signals\cite{LundIMU}.

% Tilføjede et ekstra 's', fordi det er i flertal ((IPSs) indoor positioning systems), så ik' slet det! :-)
\gls{ips}s in industrial environments often use \gls{uwb} to locate devices. This is because precision is of high priority.\cite{Infsoft}

\subsection{Ultrasound-Based}
Ultrasound positioning can be done by using ultrasound transmitters that can broadcast sound waves which a standard microphone in a smartphone can gather and use for determining the position\cite{IPSMapsPeople}. In contrast to \gls{ble} and Wi-Fi, the ultrasound signal can be obstructed by walls, doors etc. This can be an advantage if you do not want ambiguity between rooms. Since ultrasound signals are obstructed by walls, the signal can not escape the room, and you will therefore have a more approximate localisation in terms of rooms. \cite{leverage-ultrasound}

One of the leading companies in ultrasound positioning is Sonitor. They have indoor localisation solutions for areas like the hospitality industry and the medical industry, where it can be important to know the exact room a person is located in. \cite{sonitor}

\subsection{Light-Based}
Through LED lighting, we can position objects inside buildings. The LED light component communicates with smartphones through \gls{ble}, visible light communication, or video analysis.\cite{IPSMapsPeople}

One of the leading companies working with light-based indoor positioning is Phillips. They make use of their Philips visible light communications (VLC), and Philips LED luminaries. Each fixture will send out a unique identifier to the users smartphone, where the camera in the smartphone detects the code in the light, and identifies its location, so the system can pinpoint the user. \cite{philips} One of the advantages of this method is the accuracy, where Philips promises an accuracy around 30 cm. \cite{IPSMapsPeople} This is on the other hand an expensive solution, because you would need to install the Philips LED luminaries. 

%https://www.usenix.org/system/files/conference/nsdi14/nsdi14-paper-li_liqun.pdf

\subsection{\gls{rfid}}
An \gls{rfid}-based indoor localization system works by having \gls{rfid} readers listen for radio waves transmitted by nearby \gls{rfid} tags. Using \gls{rfid} readers in fixed locations, an indoor localization system can be built using the readers the same way as for Wi-Fi routers and Bluetooth beacons as either proximity, fingerprinting, or using trilateration or triangulation.\cite{HabilitationThesis}.

There are generally two types of \gls{rfid} systems: passive and active. Active \gls{rfid} readers are equipped with batteries, making them heavier and more costly. On the other hand, active \gls{rfid} have a range of up to 30 meters. Passive \gls{rfid} readers do not require batteries, but rely on inductive coupling, where energy is received from radio waves transmitted by a nearby \gls{rfid} tag. Passive \gls{rfid} readers are small in size, inexpensive to install, and requires minimal maintenance due to the fact they have no batteries. On the other hand, passive \gls{rfid} readers have a limited range of two meters, making them dependent on dense deployment.

RFID tags are used for indoor positioning in the navigational system \textit{ways4all}, where several arrays of RFID tags are positioned under the carpet to help guiding blind people around an indoor environment\cite{HabilitationThesis}.

\subsection{\gls{imu}}
A gyroscope is an angular sensor that measures the Coriolis force, which is a force used to describe the motion of an object\cite{Gyroscope}. Using gyroscopes in phones, one can therefore measure the movement of the phone.

An accelerometer is a sensor that measures the difference between the linear acceleration of a device and the local gravitational force\cite{Accelerometer}. It can be used to measure the the tilt of a phone as well as acceleration resulting from motion\cite{Accelerometer2}.
A magnetometer is used in sensing a magnetic field. This can be used in sensing linear and rotary positions. Compasses in phones is a direct example of an application that uses a magnetometer in sensing the magnetic field of Earth.\cite{Magnetometer}

A disadvantage of magnetometers is that they are sensitive to the environment. That is, if there is a lot of metal in the surrounding environment, it will affect the magnetometer sensor reading.\cite{MagnetometerAdvDisadv} % Might not be a trustworthy source, but no other could be found.
A disadvantage of gyroscopes is that its sensor readings are effected by the movement of the object carrying the gyroscope. If an object is moving in one direction, the gravitational force pulls from the direction the object is moving from. Hence, the gyroscope readings tell that the device is tilted toward its moving direction.\cite{Gyroscope}

\gls{imu} is rarely used in determining the position of a device. One of the reasons is the error accumulation in measuring acceleration, especially over long durations of time. One use of \gls{imu} for positioning is used in a quadcopter project, where the \gls{imu} is used to help the quadcopter know its position. This is because quadcopters are aerodynamically unstable, which leads to this error positioning.\cite{IMUQuadcopter}

\subsection{Geomagnetic}
In geomagnetic positioning, we use magnetic sensors, like the compass in smartphones, to determine a user's position through the Earth's magnetic fields, that interact with the building the user is located in\cite{IPSMapsPeople}. As long as the construction of the building remains the same, the magnetic flux will also stay the same in that specific area. The magnetic flux is a measurement of the total magnetic field which passes through a given area. \cite{magneticflux}

The advantages of this method is that it is not necessary to have any external hardware that needs to be setup, because the mobile device it self is enough. There is also no interference, because it does not use radio signals. However, the magnetic anomalies must be measured and mapped before it can give accurate positional data. \cite{magneticperformance}

The use of magnetic fields makes this option popular for businesses who wants to map the interior of their buildings. \cite{magneticperformance} For example, the company IndoorAtlas provides an indoor localization system using Earth's geomagnetic field. The system works by using the magnetic sensors to detect metals in a building. This can be used to build a map of the building and tracking.\cite{IndoorAtlas}

\subsection{Hybrid}

Some of the above mentioned techniques can be used together to give a more precise accuracy. 

In \cite{aauhybrid}, a method is proposed where a hybrid between Wi-Fi and Bluetooth is developed. The Wi-Fi is used as the main infrastructure for fingerprint based positioning, and Bluetooth hotspots are used for partitioning the indoor space, where after an Wi-Fi position is estimated. It works by having multiple Bluetooth hotspots around the area, and when a user leaves a Bluetooth hotspot, a Wi-Fi estimate will be obtained by searching the corresponding part of the radio map, where the specific part is given by the Bluetooth hotspot. By using this method they could improve the accuracy from 3.15 meters (pure Wi-Fi), to 1.75 meters (hybrid). 


%https://ieeexplore.ieee.org/document/6569137


\subsection{What To Use} % Skal nok have en ny titel.
% Husk at skriv, at Wi-Fi beacons måske ikke kan bruges, da iOS ikke tillader at se RSSI fra Wi-Fi. Det kan være, at det stadig ikke er et problem, da det var i 2015: Oriient rapporten. Derudover er Wi-Fi jo også meget upræcis, i hvertfald i forhold til Bluetooth, som er alternativet i fingerprint-baserede implementationer.
